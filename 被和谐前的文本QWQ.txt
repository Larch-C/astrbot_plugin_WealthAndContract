#region 工作配置
JOBS = {
    "搬砖": {
        "reward": (15.0, 20.0),      # 收益范围
        "success_rate": 1.0,
        "risk_cost": (0.0, 0.0),     # 失败惩罚范围
        "success_msg": "⛏️ {worker_name} 去工地搬了一天砖，累得筋疲力尽。你获得了 {reward:.2f} 金币！",
        "failure_msg": ""
    },
    "送外卖": {
        "reward": (20.0, 25.0),
        "success_rate": 0.9,
        "risk_cost": (1.0, 3.0),
        "success_msg": "🚴 {worker_name} 一天骑车狂奔送外卖，终于赚到 {reward:.2f} 金币！",
        "failure_msg": "🍔 {worker_name} 在送餐路上摔了一跤，赔了客户的订单，损失 {risk_cost:.2f} 金币。"
    },
    "送快递": {
        "reward": (25.0, 30.0),
        "success_rate": 0.8,
        "risk_cost": (3.0, 6.0),
        "success_msg": "📦 {worker_name} 风里雨里送快递，终于赚到了 {reward:.2f} 金币。",
        "failure_msg": "📭 {worker_name} 快递丢件，被客户投诉，赔了 {risk_cost:.2f} 金币。"
    },
    "家教": {
        "reward": (30.0, 35.0),
        "success_rate": 0.7,
        "risk_cost": (6.0, 9.0),
        "success_msg": "📚 {worker_name} 耐心辅导学生，家长满意，赚得 {reward:.2f} 金币。",
        "failure_msg": "😵 {worker_name} 学生成绩没提高，被辞退，损失 {risk_cost:.2f} 金币。"
    },
    "挖矿": {
        "reward": (35.0, 40.0),
        "success_rate": 0.6,
        "risk_cost": (9.0, 12.0),
        "success_msg": "⛏️ {worker_name} 在地下挖矿一整天，挖到了珍贵矿石，获得 {reward:.2f} 金币！",
        "failure_msg": "💥 {worker_name} 不小心引发了塌方事故，受伤并损失 {risk_cost:.2f} 金币。"
    },
    "代写作业": {
        "reward": (40.0, 45.0),
        "success_rate": 0.5,
        "risk_cost": (12.0, 15.0),
        "success_msg": "📘 {worker_name} 偷偷帮人代写作业，轻松赚到 {reward:.2f} 金币。",
        "failure_msg": "📚 {worker_name} 被老师发现代写，被罚 {risk_cost:.2f} 金币。"
    },
    "奶茶店": {
        "reward": (45.0, 50.0),
        "success_rate": 0.4,
        "risk_cost": (15.0, 18.0),
        "success_msg": "🧋 {worker_name} 在奶茶店忙了一天，挣了 {reward:.2f} 金币。",
        "failure_msg": "🥤 {worker_name} 手滑打翻整桶奶茶，赔了 {risk_cost:.2f} 金币。"
    },
    "偷窃苏特尔的宝库": {
        "reward": (500.0, 500.0),          # 固定奖励
        "success_rate": 0.02,      # 5%的成功率
        "risk_cost": (10.0, 10.0),         # 固定惩罚
        "success_msg": "🌟 {worker_name} 偷窃成功，从苏特尔的钱包中获得了难以置信的 {reward:.2f} 金币！",
        "failure_msg": "💫 {worker_name} 偷窃失败，被苏特尔当场抓获，幕后黑手的你赔付了{risk_cost:.2f} 金币了。"
    },
    "卖淫": {
        "reward": (80.0, 350.0),  # 高报酬
        "success_rate": 0.35,     # 65%失败率
        "risk_cost": (30.0, 50.0), # 高额风险
        "success_msg": "💄 {worker_name} 整整卖淫了一整夜，赚取了 {reward:.1f} 金币！",
        "failure_msg": "🩹 {worker_name} 不慎怀孕了，打胎花销 {risk_cost:.1f} 金币。"
    }
}
#endregion

#region 道具系统配置
SHOP_ITEMS = {
    "驯服贴": {
        "price": 1000,
        "description": "永久绑定性奴，防止被制裁/赎身/强制购买，超出限定名额额外费用公式: 2000 * 2 * (当前数量 + 1)",
        "type": "use",
        "command": "驯服贴"
    },
    "强制购买符": {
        "price": 500,
        "description": "强制购买已有主人的性奴",
        "type": "use",
        "command": "强制购买符"
    },
    "自由身保险": {
        "price": 800,
        "description": "24小时内不被购买为性奴",
        "duration_hours": 24,
        "type": "use",
        "command": "自由身保险"
    },
    "红星制裁": {
        "price": 5,
        "description": "对全群满足条件的用户进行制裁（每人每天限用1次）",
        "type": "use",
        "command": "红星制裁"
    },
    "市场侵袭": {
        "price": 400,
        "description": "对指定用户发起侵袭（每人每小时限用1次）",
        "type": "use",
        "command": "市场侵袭"
    },
    "美式咖啡": {
        "price": 80,
        "description": "减少一次今日约会计数（不能低于0）",
        "type": "use",
        "command": "美式咖啡"
    },
    "卡天亚戒指": {
        "price": 520,
        "description": "缔结恋人关系所需的道具",
        "type": "social",
        "command": "卡天亚戒指"
    },
    "一壶烈酒": {
        "price": 349,
        "description": "缔结兄弟关系所需的道具",
        "type": "social",
        "command": "一壶烈酒"
    },
    "黑金卡": {
        "price": 666,
        "description": "缔结包养关系所需的道具",
        "type": "social",
        "command": "黑金卡"
    },
    "玫瑰花束": {
        "price": 300,
        "description": "赠送可增加5-10点好感度（基础）",
        "type": "gift",
        "command": "玫瑰花束"
    },
    "定制蛋糕": {
        "price": 400,
        "description": "赠送可增加8-15点好感度（基础）",
        "type": "gift",
        "command": "定制蛋糕"
    },
    "永恒钻戒": {
        "price": 1314,
        "description": "升级为夫妻关系所需的道具",
        "type": "social",
        "command": "永恒钻戒"
    },
    "金兰谱": {
        "price": 934,
        "description": "升级为结义兄弟所需的道具",
        "type": "social",
        "command": "金兰谱"
    },
    "白金卡": {
        "price": 888,
        "description": "升级为长期包养所需的道具",
        "type": "social",
        "command": "白金卡"
    },
    "限量版玫瑰": {
        "price": 900,
        "description": "赠送可增加15-25点好感度（升级关系专用）",
        "type": "gift",
        "command": "限量版玫瑰"
    },
    "定制珠宝": {
        "price": 1000,
        "description": "赠送可增加20-35点好感度（升级关系专用）",
        "type": "gift",
        "command": "定制珠宝"
    },
    "百合花蜜": {
        "price": 950,
        "description": "升级为百合所需的道具",
        "type": "social",
        "command": "百合花蜜"
    },
    "百合花种": {
        "price": 590,
        "description": "升级为闺蜜所需的道具",
        "type": "social",
        "command": "百合花种"
    },
    "彩票": {
        "price": 5,
        "description": "购买彩票，有机会获得大奖（每日限用10次）",
        "type": "use",
        "command": "彩票"
    },
    "贿赂券": {
        "price": 300,
        "description": "在红星制裁中免疫制裁（90%概率）",
        "type": "use",
        "command": "贿赂券"
    },
    "媚药": {
        "price": 50,
        "description": "强制社交所需道具（不可直接使用）",
        "type": "special",
        "command": "媚药"
    }
}
#endregion

#region 社交系统配置
DATE_EVENTS = [
    {
        "id": "movie",
        "name": "电影院约会",
        "description": "你们在电影院看了一场感人的电影，相视一笑。",
        "favorability_change": (3, 5)
    },
    {
        "id": "rain",
        "name": "被雨淋湿",
        "description": "约会途中突然下雨，两人被淋湿，气氛有些尴尬。",
        "favorability_change": (-2, 0)
    },
    {
        "id": "restaurant",
        "name": "共进晚餐",
        "description": "你们在一家浪漫的餐厅共进晚餐，氛围很好。",
        "favorability_change": (2, 4)
    },
    {
        "id": "amusement_park",
        "name": "游乐园",
        "description": "在游乐园里，你们勇敢地尝试了各种刺激的项目，留下了美好的回忆。",
        "favorability_change": (2, 5)
    },
    {
        "id": "cooking",
        "name": "一起做饭",
        "description": "你们一起在家做饭，虽然过程有些混乱，但最终做出了美味的菜肴。",
        "favorability_change": (2, 5)
    },
    {
        "id": "star_gazing",
        "name": "观星",
        "description": "在郊外的草地上，你们一起观星，聊着各自的梦想和未来。",
        "favorability_change": (3, 5)
    },
    {
        "id": "argument",
        "name": "争吵",
        "description": "约会过程中，因为一些小事，你们发生了争执，气氛有些紧张。",
        "favorability_change": (-3, -1)
    },
    {
        "id": "open_the_room",
        "name": "开房",
        "description": "约会过程中，因为一些原因夜深了，你们去酒店开了房，中途发生了什么就不得而知了。",
        "favorability_change": (50, 150)
    }
]

RELATION_LIMITS = {
    "lover": 1,       # 恋人关系仅限1个
    "brother": -1,    # 兄弟关系无限制
    "patron": -1,     # 包养关系无限制
    "spouse": 1,      # 夫妻关系仅限1个
    "sworn_brother": -1,  # 结义兄弟无限制
    "long_term_patron": -1, # 长期包养无限制
    "bff": -1,  # 闺蜜无限制
    "yuri": -1  # 百合无限制
}

RELATION_UPGRADES = {
    "lover": "spouse",           # 恋人可升级为夫妻
    "brother": "sworn_brother",  # 兄弟可升级为结义兄弟
    "patron": "long_term_patron", # 包养可升级为长期包养
    "bff": "yuri" # 闺蜜可升级为百合
}

UPGRADE_ITEMS = {
    "spouse": "永恒钻戒",          # 升级夫妻所需道具
    "sworn_brother": "金兰谱",    # 升级结义兄弟所需道具
    "long_term_patron": "白金卡",   # 升级长期包养所需道具
    "yuri": "百合花蜜" # 升级百合所需道具
}

UPGRADE_BONUS = {
    "spouse": 15.0,             # 夫妻关系签到加成
    "sworn_brother": 10.0,      # 结义兄弟签到加成
    "yuri": 10.0,          # 百合签到加成
    "long_term_patron": 20.0    # 长期包养签到加成
}

BASE_RELATION_BONUS = {
    "lover": 5.0,
    "brother": 3.0,
    "patron": 8.0,
    "bff": 4.0
}

# 关系类型名称映射
RELATION_TYPE_NAMES = {
    "lover": "恋人",
    "brother": "兄弟", 
    "patron": "包养关系",
    "spouse": "夫妻",
    "sworn_brother": "结义兄弟",
    "long_term_patron": "长期包养",
    "bff": "闺蜜",
    "yuri": "百合"
}

# 关系礼物加成
RELATION_GIFT_BONUS = {
    "lover": {"玫瑰花束": (10, 15), "定制蛋糕": (15, 25)},
    "spouse": {"限量版玫瑰": (15, 25), "定制珠宝": (20, 35)},
    "brother": {"一壶烈酒": (8, 15)},
    "sworn_brother": {"金兰谱": (15, 25)},
    "patron": {"黑金卡": (10, 20)},
    "long_term_patron": {"白金卡": (20, 30)},
    "bff": {"百合花种": (20, 30)},
    "yuri": {"百合花蜜": (20, 30)},
}

SOCIAL_EVENTS = {
    "看电影": {
        "success_rate": 0.9,
        "favorability_change": (20, 50),
        "min_favorability": 100,
        "success_msgs": [
            "🎬 {inviter_name} 和 {target_name} 在私人影院里越靠越近…黑暗中两人的呼吸声越来越重，好感度 +{change}",
            "💺 {target_name} 的手'不小心'碰到了{inviter_name}的腿，却迟迟没有移开…好感度 +{change}",
            "🍿 共享爆米花时{inviter_name}故意咬到了{target_name}的手指，两人对视一笑，好感度 +{change}",
            "😘 看到浪漫处{inviter_name}突然亲了{target_name}的脸颊，{target_name}脸红到耳根，好感度 +{change}",
            "🛋️ {inviter_name} 把{target_name}搂在怀里，手指轻轻划过对方的腰际，好感度 +{change}",
            "🌙 电影结束后两人在空荡荡的影厅里缠绵亲吻，工作人员都不敢进来打扰，好感度 +{change}",
            "👄 {inviter_name} 借着黑暗悄悄在{target_name}耳边低语：“你好香啊…”好感度 +{change}",
            "💞 看到激情戏时两人不约而同地看向对方，眼神拉丝，好感度 +{change}",
            "🔥 {target_name} 跨坐在{inviter_name}腿上，银幕光影映照着两人交叠的身影，好感度 +{change}",
            "❣️ {inviter_name} 的手不安分地伸进{target_name}的衣服里，被轻轻拍开却笑得更深，好感度 +{change}"
        ],
        "failure_msgs": [
            "😴 {inviter_name} 选的文艺片太闷，{target_name} 睡得打呼噜还流口水，好感度 -{change}",
            "📱 {target_name} 全程和前任发消息，{inviter_name}气得差点砸爆米花，好感度 -{change}",
            "💨 {inviter_name} 不小心放了个屁，整个影厅都在偷笑，{target_name} 假装不认识他，好感度 -{change}",
            "🍫 {inviter_name} 准备的巧克力融化在口袋里，掏出来时黏糊糊一大坨，{target_name} 一脸嫌弃，好感度 -{change}",
            "👻 恐怖片太吓人，{target_name} 一拳打中了{inviter_name}的鼻子，好感度 -{change}"
        ]
    },
    "共进晚餐": {
        "success_rate": 0.8,
        "favorability_change": (30, 60),
        "min_favorability": 150,
        "success_msgs": [
            "🍷 {inviter_name} 喂{target_name}吃草莓时故意舔了下指尖，{target_name} 腿都软了，好感度 +{change}",
            "💋 餐后甜点上写着“我爱你”，{inviter_name} 当着全场面深吻{target_name}，好感度 +{change}",
            "🦵 桌下{inviter_name}用脚轻轻摩擦{target_name}的大腿，{target_name}脸红着夹紧了腿，好感度 +{change}",
            "🍾 香槟酒洒在{target_name}胸口，{inviter_name}俯身去舔…被服务员撞个正着，好感度 +{change}",
            "👠 {target_name} 脱了高跟鞋用脚趾挑逗{inviter_name}的裤裆，一顿饭吃了三小时，好感度 +{change}",
            "🥩 {inviter_name} 切好牛排喂到{target_name}嘴边，却突然转方向喂进自己嘴里，引得对方娇嗔，好感度 +{change}",
            "🔥 两人在餐厅角落热吻到忘我，刀叉掉地上都浑然不觉，好感度 +{change}",
            "💞 {inviter_name} 突然单膝跪地掏出戒指盒…结果里面是奶油，舔掉后吻上{target_name}的唇，好感度 +{change}",
            "👅 {target_name} 吃完冰淇淋后{inviter_name}突然吻上去说“尝尝你的味道”，好感度 +{change}",
            "🪑 {inviter_name} 把{target_name}抱到自己腿上喂饭，一顿饭吃得欲火焚身，好感度 +{change}"
        ],
        "failure_msgs": [
            "🌶️ {inviter_name} 点了变态辣，{target_name} 吃完直接送医洗胃，好感度 -{change}",
            "💸 结账时发现要AA制，{target_name} 翻着白眼掏钱，好感度 -{change}",
            "🐛 沙拉里吃出菜虫，{target_name} 当场呕吐在{inviter_name}名牌西装上，好感度 -{change}",
            "💨 {inviter_name} 吃太多大蒜，接吻时{target_name}被熏晕过去，好感度 -{change}",
            "👨👩👧 吃到一半遇到{target_name}全家来聚餐，尴尬得脚趾抠地，好感度 -{change}"
        ]
    },
    "公园散步": {
        "success_rate": 0.95,
        "favorability_change": (44, 70),
        "min_favorability": 220,
        "success_msgs": [
            "🌸 {inviter_name} 把{target_name}压倒在樱花树下，花瓣飘落中两人忘情亲吻，好感度 +{change}",
            "🌳 小树林里{inviter_name}从背后抱住{target_name}，手悄悄探进衣摆，好感度 +{change}",
            "💫 长椅上{target_name}跨坐在{inviter_name}腿上扭动，远处传来脚步声才慌忙分开，好感度 +{change}",
            "👗 突然下雨，{inviter_name}脱下衬衫裹住{target_name}，发现里面是性感内衣，好感度 +{change}",
            "🛝 滑滑梯上{inviter_name}抱着{target_name}一起滑下，黑暗中被摸遍全身，好感度 +{change}",
            "🌙 月光下{target_name}主动拉开{inviter_name}的裤链，被巡逻的手电筒照到尖叫逃跑，好感度 +{change}",
            "💞 秋千荡到最高点时{inviter_name}吻上{target_name}的唇，两人在空中缠绵，好感度 +{change}",
            "🔥 喷泉旁{target_name}被淋湿透，透明衬衫下的身材让{inviter_name}直接硬了，好感度 +{change}",
            "👅 长椅深吻到{target_name}口红全花，{inviter_name}笑着说“这样更性感”，好感度 +{change}",
            "📸 假装拍照却偷拍{target_name}裙底，被发现后反而被撒娇“删掉啦~”，好感度 +{change}"
        ],
        "failure_msgs": [
            "🐕 被流浪狗追着跑，{target_name} 高跟鞋跑断跟，气哭，好感度 -{change}",
            "💩 {inviter_name} 不小心踩到狗屎，{target_name} 拒绝同车回家，好感度 -{change}",
            "👮 亲热时被保安拿手电筒照脸，社会性死亡，好感度 -{change}",
            "🦟 蚊子包咬满全身，{target_name} 痒到没心情暧昧，好感度 -{change}",
            "🌧️ 暴雨突至两人成落汤鸡，{target_name} 妆花成鬼，好感度 -{change}"
        ]
    },
    "涩涩": {
        "success_rate": 0.65,
        "favorability_change": ( 150, 190),
        "min_favorability": 500,
        "success_msgs": [
            "🛏️ {inviter_name} 把 {target_name} 扔上床，用领带绑住手腕：‘今晚求饶也不会停’，好感度 +{change}",
            "💦 浴室玻璃上映出交叠的身影，{target_name} 的呻吟被水声掩盖，好感度 +{change}",
            "🔞 {inviter_name} 跪在{target_name}腿间，抬头时唇边还挂着银丝：‘好甜’，好感度 +{change}",
            "🍑 拍打臀部的清脆声和娇喘声响彻房间，{inviter_name} 笑问‘谁让你这么骚’，好感度 +{change}",
            "💄 口红在{target_name}胸口画满爱心，{inviter_name} 一点点舔干净，好感度 +{change}",
            "🎀 拆礼物般解开{target_name}内衣，{inviter_name} 眼睛发亮：‘这才是我的圣诞大餐’，好感度 +{change}",
            "🪞 镜子前{target_name}被抱起来进入，看着自己失控的表情羞耻到哭，好感度 +{change}",
            "📿 {target_name} 的珍珠项链被扯断，珠子滚落满地，两人在珍珠上缠绵，好感度 +{change}",
            "🚗 车震到整个车身摇晃，路过的人偷笑拍照，{target_name} 捂住嘴不敢出声，好感度 +{change}",
            "⛓️ 皮革手铐锁住{target_name}，{inviter_name} 用鞭子轻轻划过：‘叫主人就给你’，好感度 +{change}",
            "🍯 蜂蜜倒在{target_name}身上，{inviter_name} 从脖颈舔到小腹：‘果然最甜的是这里’，好感度 +{change}",
            "🎥 拍小视频时{target_name}突然抢过手机：‘这样更刺激…’，主动坐上去，好感度 +{change}"
        ],
        "failure_msgs": [
            "🚫 关键时刻发现没套，{target_name} 一脚把{inviter_name}踹下床，好感度 -{change}",
            "👨👦 情到浓时{target_name}突然喊出前任名字，场面瞬间冰冻，好感度 -{change}",
            "💥 床塌了！两人卡在木头堆里被救援人员拉出来，社会性死亡，好感度 -{change}",
            "🩸 {target_name} 突然来姨妈，白色床单染成地图，尴尬收场，好感度 -{change}",
            "👂 隔音太差邻居报警，警察敲门时{inviter_name}还光着屁股，好感度 -{change}",
            "🤮 太激动导致{target_name}吐在{inviter_name}身上，性致全无，好感度 -{change}"
        ]
    },
    "卡拉OK": {
        "success_rate": 0.85,
        "favorability_change": (65, 100),
        "min_favorability": 325,
        "success_msgs": [
            "🎤 对唱情歌时{inviter_name}把{target_name}按在墙上假戏真做，麦克风录下喘息声，好感度 +{change}",
            "🍻 交杯酒喝到一半{inviter_name}扯开{target_name}衣领灌进去，酒液顺着胸口流下，好感度 +{change}",
            "💃 disco球下{target_name}热舞磨蹭{inviter_name}胯下，话筒架成了钢管，好感度 +{change}",
            "🎶 唱到“我要吻你”时{inviter_name}真的吻下去，伴奏还在放两人已滚到沙发上，好感度 +{change}",
            "📀 切歌间隙{target_name}蹲下拉开{inviter_name}裤链，黑暗中只有荧幕光映着起伏的头顶，好感度 +{change}",
            "🥃 冰威士忌顺着{target_name}锁骨流下，{inviter_name}趴着舔舐引起阵阵颤抖，好感度 +{change}",
            "🎭 对唱时互相撕扯衣服，唱完时{target_name}胸衣都露在外面，好感度 +{change}",
            "🔇 {inviter_name} 关掉麦克风却关不掉{target_name}的娇喘，隔壁包间开始敲墙，好感度 +{change}",
            "👠 {target_name} 用高跟鞋踩着{inviter_name}大腿唱歌，脚尖轻轻磨蹭敏感部位，好感度 +{change}",
            "🎙️ 话筒被夹在两人身体之间，收音的是激烈心跳和湿吻声，好感度 +{change}"
        ],
        "failure_msgs": [
            "🎤 {inviter_name} 破音堪比杀猪，{target_name} 尴尬到钻茶几底下，好感度 -{change}",
            "🤮 {target_name} 喝多吐在点歌屏上，包间费扣光押金，好感度 -{change}",
            "👮 玩太嗨被报警，警察进来时{inviter_name}正穿着内裤跳舞，好感度 -{change}",
            "💸 结账时发现开了最贵的酒，{target_name} AA制后拉黑联系方式，好感度 -{change}",
            "📱 全程直播忘了关，亲热画面被亲友看光，社会性死亡，好感度 -{change}"
        ]
    }
}
#endregion